{"version":3,"sources":["components/Searchbar/Searchbar.js","components/Loader/Loader.js","components/Error/Error.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/photoApi.js","components/FetchPhotoApp.js","index.js"],"names":["Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","LoaderApp","color","height","width","Error","Button","handler","onClick","ImageGallery","handlerRenderModal","target","onImageClick","children","modalRoot","document","querySelector","Modal","handlerEscape","code","onClose","handlerBackDrop","window","addEventListener","removeEventListener","createPortal","src","largeImage","alt","ImageGalleryItem","photos","map","id","webformatURL","tags","key","onCardClick","page","keyWord","itemPerPage","axios","get","then","res","data","hits","FetchPhotoApp","isLoading","error","renderModal","modalContent","handleRenderModal","scroll","scrollTo","top","documentElement","scrollHeight","behavior","onChangeQuery","fetch","options","photoApi","prevState","catch","finally","handlerModalContent","bigsrc","find","photo","largeImageURL","prevProps","Loader","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bae1b54e.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Searchbar extends Component {\n\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  }\n\n  state = {\n    query: '',\n  }\n\n  handleChange = e =>\n    this.setState({ query: e.currentTarget.value });\n\n  handleSubmit = e => {\n    e.preventDefault()\n    this.props.onSubmit(this.state.query)\n    this.setState({ query: '' })\n  }\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            value={this.state.query}\n            onChange={this.handleChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    )\n  }\n};\n\nexport default Searchbar;","import React, { Component } from 'react';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from 'react-loader-spinner';\nclass LoaderApp extends Component {\n  render() {\n    return (\n      <Loader\n        type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} className='Loader'\n      />\n    );\n  }\n}\n\nexport default LoaderApp;","import React from 'react';\n\nconst Error = () => {\n  return (\n    <h1>ERROR!!!</h1>\n  )\n}\n\nexport default Error;","import React from 'react';\nimport PropTypes from 'prop-types';\n\n\nexport default function Button({ handler }) {\n  return (\n    <button\n      className='Button'\n      type='button'\n      onClick={handler}\n    >Load more</button>\n  );\n}\n\nButton.propTypes = {\n  handler: PropTypes.func,\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass ImageGallery extends Component {\n\n  static propTypes = {\n    onImageClick: PropTypes.func.isRequired,\n    children: PropTypes.node,\n  }\n\n  handlerRenderModal = e => {\n    if (e.target !== e.currentTarget) {\n      this.props.onImageClick();\n    }\n  }\n\n  render() {\n    return (\n      <ul className=\"ImageGallery\" onClick={this.handlerRenderModal}>{this.props.children}</ul>\n    )\n  }\n}\n\nexport default ImageGallery;","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    largeImage: PropTypes.string.isRequired,\n  }\n  componentDidMount() {\n    window.addEventListener('keydown', this.handlerEscape)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handlerEscape)\n  }\n\n  handlerEscape = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  }\n\n  handlerBackDrop = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  }\n\n  render() {\n    return createPortal(<div onClick={this.handlerBackDrop} className=\"Overlay\" >\n      <div className=\"Modal\" >\n        <img src={this.props.largeImage} alt='clickedImage' />\n      </div>\n    </div>, modalRoot)\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass ImageGalleryItem extends Component {\n\n  static propTypes = {\n    photos: PropTypes.array.isRequired,\n    onCardClick: PropTypes.func.isRequired,\n  }\n\n  render() {\n    const { photos } = this.props\n    return (\n      <>\n        {\n          photos.map(({ id, webformatURL, tags }) =>\n            <li key={id} className=\"ImageGalleryItem\">\n              <img\n                onClick={() => this.props.onCardClick(id)}\n                src={webformatURL}\n                alt={tags}\n                className=\"ImageGalleryItem-image\" />\n            </li>)\n        }\n      </>\n    )\n  }\n}\n\nexport default ImageGalleryItem;","import axios from 'axios'\n\n// Not work!\n// axios.defaults.headers.common['Authorization'] = `16958496-eed71f695e795e31d6c8ecae3`;\n\nconst apiKey = '16958496-eed71f695e795e31d6c8ecae3';\n\nconst fetchPhotos = ({ page = 1, keyWord = '', itemPerPage = 12 }) => {\n  return (axios.get(`https://pixabay.com/api/?q=${keyWord}&page=${page}&image_type=photo&orientation=horizontal&per_page=${itemPerPage}&key=${apiKey}`).then(res => res.data.hits))\n};\n\nexport default { fetchPhotos };","import React, { Component } from 'react';\n\nimport Searchbar from './Searchbar';\nimport Loader from './Loader';\nimport Error from './Error';\nimport Button from './Button';\nimport ImageGallery from './ImageGallery';\nimport Modal from './Modal';\nimport ImageGalleryItem from './ImageGalleryItem';\n\nimport photoApi from './photoApi';\n\nclass FetchPhotoApp extends Component {\n  state = {\n    page: 1,\n    photos: [],\n    keyWord: '',\n    isLoading: false,\n    error: null,\n    renderModal: false,\n    modalContent: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.keyWord !== this.state.keyWord) {\n      this.fetch();\n    }\n\n    if (prevState.page !== this.state.page && prevState.page !== 1) {\n      this.scroll()\n    }\n  }\n\n  handleRenderModal = () => {\n    this.setState(({ renderModal }) => ({\n      renderModal: !renderModal\n    }))\n  }\n\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({\n      keyWord: query,\n      page: 1,\n      photos: [],\n      error: null\n    })\n  }\n\n  fetch = () => {\n    const { keyWord, page } = this.state;\n    const options = { keyWord, page };\n\n    this.setState({ isLoading: true });\n\n    photoApi.fetchPhotos(options).then(res => {\n      this.setState(prevState => ({\n        photos: [...prevState.photos, ...res],\n        page: prevState.page + 1,\n      }));\n    }).catch(error => this.setState({ error: error })).finally(() => this.setState({ isLoading: false }))\n  }\n\n  handlerModalContent = id => {\n    const bigsrc = this.state.photos.find(photo => id === photo.id)\n    this.setState({ modalContent: bigsrc.largeImageURL })\n  }\n\n\n  render() {\n    const { photos, isLoading, error, renderModal, modalContent } = this.state\n\n    return (\n      <div className='App'>\n        {renderModal && <Modal largeImage={modalContent} onClose={this.handleRenderModal} />}\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {error && <Error />}\n        <ImageGallery onImageClick={this.handleRenderModal}><ImageGalleryItem photos={photos} onCardClick={this.handlerModalContent} /></ImageGallery>\n        {isLoading && <Loader />}\n        {photos.length > 0 && !isLoading &&\n          <Button handler={this.fetch} />}\n      </div >\n    )\n  }\n}\n\nexport default FetchPhotoApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/body.css';\nimport './css/styles.css';\nimport FetchPhotoApp from './components/FetchPhotoApp';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <FetchPhotoApp />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}