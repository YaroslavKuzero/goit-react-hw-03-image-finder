{"version":3,"sources":["components/Searchbar/Searchbar.js","components/Loader/Loader.js","components/photoApi.js","components/Error/Error.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/FetchPhotoApp.js","App.js","index.js"],"names":["Searchbar","state","query","handleChange","event","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","LoaderApp","color","height","width","page","keyWord","itemPerPage","axios","get","then","res","data","hits","Error","Button","handler","onClick","ImageGallery","handlerRenderModal","target","onImageClick","children","modalRoot","document","querySelector","Modal","handlerEscape","code","onClose","handlerBackDrop","window","addEventListener","removeEventListener","createPortal","src","largeImage","alt","ImageGalleryItem","photos","map","id","webformatURL","tags","key","onCardClick","FetchPhotoApp","isLoading","error","renderModal","modalContent","scroll","scrollTo","top","documentElement","scrollHeight","behavior","onChangeQuery","fetch","options","photoApi","prevState","catch","finally","handlerModalContent","bigsrc","find","photo","largeImageURL","prevProps","Loader","length","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2472a356.chunk.js","sourcesContent":["import React, { Component } from 'react';\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  }\n\n  handleChange = event =>\n    this.setState({ query: event.currentTarget.value });\n\n  handleSubmit = event => {\n    event.preventDefault()\n    this.props.onSubmit(this.state.query)\n    this.setState({ query: '' })\n  }\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            value={this.state.query}\n            onChange={this.handleChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    )\n  }\n};\n\n\nexport default Searchbar;","import React, { Component } from 'react';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from 'react-loader-spinner';\nclass LoaderApp extends Component {\n  render() {\n    return (\n      <Loader\n        type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} className='Loader'\n      />\n    );\n  }\n}\n\nexport default LoaderApp;","import axios from 'axios'\n\n// Not work!\n// axios.defaults.headers.common['Authorization'] = `16958496-eed71f695e795e31d6c8ecae3`;\n\nconst apiKey = '16958496-eed71f695e795e31d6c8ecae3';\n\nconst fetchPhotos = ({ page = 1, keyWord = '', itemPerPage = 12 }) => {\n  return (axios.get(`https://pixabay.com/api/?q=${keyWord}&page=${page}&image_type=photo&orientation=horizontal&per_page=${itemPerPage}&key=${apiKey}`).then(res => res.data.hits))\n};\n\nexport default { fetchPhotos };","import React from 'react';\n\nconst Error = () => {\n  return (\n    <h1>ERRROOOOR</h1>\n  )\n}\n\nexport default Error;","import React from 'react';\n\nconst Button = ({ handler }) => {\n  return (<button className='Button' type='button' onClick={handler}>Load more</button>)\n};\n\nexport default Button;","import React, { Component } from 'react';\nclass ImageGallery extends Component {\n\n  handlerRenderModal = event => {\n    if (event.target !== event.currentTarget) {\n      this.props.onImageClick();\n    }\n  }\n\n  render() {\n    return (\n      <ul className=\"ImageGallery\" onClick={this.handlerRenderModal}>{this.props.children}</ul>\n    )\n  }\n}\n\nexport default ImageGallery;","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom'\n\nconst modalRoot = document.querySelector('#modal-root');\nclass Modal extends Component {\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handlerEscape)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handlerEscape)\n  }\n\n  handlerEscape = event => {\n    if (event.code === 'Escape') {\n      this.props.onClose();\n    }\n  }\n\n  handlerBackDrop = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  }\n\n  render() {\n    return createPortal(<div onClick={this.handlerBackDrop} className=\"Overlay\" >\n      <div className=\"Modal\" >\n        <img src={this.props.largeImage} alt=\"\" />\n      </div>\n    </div>, modalRoot)\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nclass ImageGalleryItem extends Component {\n  //onCardClick this is my props coming from main app = handlerModalContent\n\n  render() {\n    const { photos } = this.props\n    return (\n      <>{photos.map(({ id, webformatURL, tags }) => <li key={id} className=\"ImageGalleryItem\">\n        <img onClick={() => this.props.onCardClick(id)} src={webformatURL} alt={tags} className=\"ImageGalleryItem-image\" />\n      </li>)}\n      </>\n    )\n  }\n}\n\nexport default ImageGalleryItem;","import React, { Component } from 'react';\nimport Searchbar from './Searchbar';\nimport Loader from './Loader';\nimport photoApi from './photoApi';\nimport Error from './Error';\nimport Button from './Button';\nimport ImageGallery from './ImageGallery';\nimport Modal from './Modal';\nimport ImageGalleryItem from './ImageGalleryItem';\n\n\nclass FetchPhotoApp extends Component {\n  state = {\n    page: 1,\n    photos: [],\n    keyWord: '',\n    isLoading: false,\n    error: null,\n    renderModal: false,\n    modalContent: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.keyWord !== this.state.keyWord) {\n      this.fetch();\n    }\n\n    if (prevState.page !== this.state.page && prevState.page !== 1) {\n      this.scroll()\n    }\n  }\n\n  renderModal = () => {\n    this.setState(({ renderModal }) => ({\n      renderModal: !renderModal\n    }))\n  }\n\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({\n      keyWord: query,\n      page: 1,\n      photos: [],\n      error: null\n    })\n  }\n\n  fetch = () => {\n    const { keyWord, page } = this.state;\n    const options = { keyWord, page };\n\n    this.setState({ isLoading: true });\n\n    photoApi.fetchPhotos(options).then(res => {\n      this.setState(prevState => ({\n        photos: [...prevState.photos, ...res],\n        page: prevState.page + 1,\n      }));\n    }).catch(error => this.setState({ error: error })).finally(() => this.setState({ isLoading: false }))\n  }\n\n  handlerModalContent = id => {\n    const bigsrc = this.state.photos.find(photo => id === photo.id)\n    this.setState({ modalContent: bigsrc.largeImageURL })\n  }\n\n\n  render() {\n    const { photos, isLoading, error, renderModal } = this.state\n\n    return (\n      <div className='App'>\n        {renderModal && <Modal largeImage={this.state.modalContent} onClose={this.renderModal} />}\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {error && <Error />}\n        <ImageGallery onImageClick={this.renderModal}><ImageGalleryItem photos={this.state.photos} onCardClick={this.handlerModalContent} /></ImageGallery>\n        {isLoading && <Loader />}\n        {photos.length > 0 && !isLoading &&\n          <Button handler={this.fetch} />}\n      </div >\n    )\n  }\n}\n\nexport default FetchPhotoApp;\n","import React, { Fragment } from 'react';\nimport './css/body.css';\nimport './css/styles.css';\nimport FetchPhotoApp from './components/FetchPhotoApp';\n\nfunction App() {\n  return (\n    <Fragment>\n      <FetchPhotoApp />\n    </Fragment>\n  );\n}\n\nexport default App;\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}