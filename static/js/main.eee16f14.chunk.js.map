{"version":3,"sources":["components/Searchbar/Searchbar.js","components/Loader/Loader.js","components/Error/Error.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","services/photoApi.js","components/FetchPhotoApp.js","index.js"],"names":["Searchbar","state","query","handleChange","value","currentTarget","setState","handleSubmit","e","preventDefault","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","LoaderApp","color","height","width","Error","Button","loadMore","onClick","ImageGallery","handlerRenderModal","target","onImageClick","children","modalRoot","document","querySelector","Modal","handlerEscape","code","onClose","handlerBackDrop","window","addEventListener","removeEventListener","createPortal","src","largeImage","alt","ImageGalleryItem","photos","map","id","webformatURL","tags","key","onCardClick","apiKey","a","page","keyWord","itemPerPage","axios","get","response","hits","data","console","log","defaults","baseURL","fetchPhotos","FetchPhotoApp","isLoading","error","isShowModal","modalContent","handleRenderModal","scroll","scrollTo","top","documentElement","scrollHeight","behavior","onChangeQuery","fetch","options","photoApi","res","prevState","handlerModalContent","content","find","photo","largeImageURL","_","isShowError","isShowButtonLoadMore","length","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.eee16f14.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Searchbar extends Component {\n\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  }\n\n  state = {\n    query: '',\n  }\n\n  handleChange = ({ currentTarget: { value } }) =>\n    this.setState({ query: value });\n\n  handleSubmit = e => {\n    e.preventDefault()\n    this.props.onSubmit(this.state.query)\n    this.setState({ query: '' })\n  }\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\"> <span className=\"SearchForm-button-label\">Search</span></button>\n          <input className=\"SearchForm-input\" type=\"text\" value={this.state.query} onChange={this.handleChange} autoComplete=\"off\" autoFocus placeholder=\"Search images and photos\" />\n        </form>\n      </header>\n    )\n  }\n};\n\nexport default Searchbar;","import React, { Component } from 'react';\n\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nimport Loader from 'react-loader-spinner';\n\nclass LoaderApp extends Component {\n  render() {\n    return <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} className='Loader' />\n  }\n}\n\nexport default LoaderApp;","import React from 'react';\n\nconst Error = () => {\n  return <h1>ERROR!!!</h1>\n}\n\nexport default Error;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function Button({ loadMore }) {\n  return <button className='Button' type='button' onClick={loadMore}>Load more</button>\n}\n\nButton.propTypes = {\n  handler: PropTypes.func,\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass ImageGallery extends Component {\n\n  static propTypes = {\n    onImageClick: PropTypes.func.isRequired,\n    children: PropTypes.node,\n  }\n\n  handlerRenderModal = e => {\n    if (e.target !== e.currentTarget) {\n      this.props.onImageClick();\n    }\n  }\n\n  render() {\n    return <ul className=\"ImageGallery\" onClick={this.handlerRenderModal}>{this.props.children}</ul>\n  }\n}\n\nexport default ImageGallery;","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    largeImage: PropTypes.string.isRequired,\n  }\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handlerEscape)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handlerEscape)\n  }\n\n  handlerEscape = ({ code }) => {\n    if (code === 'Escape') {\n      this.props.onClose();\n    }\n  }\n\n  handlerBackDrop = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  }\n\n  render() {\n    return createPortal(<div onClick={this.handlerBackDrop} className=\"Overlay\" >\n      <div className=\"Modal\" >\n        <img src={this.props.largeImage} alt='clickedImage' />\n      </div>\n    </div>, modalRoot)\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass ImageGalleryItem extends Component {\n\n  static propTypes = {\n    photos: PropTypes.array.isRequired,\n    onCardClick: PropTypes.func.isRequired,\n  }\n\n  render() {\n    const { photos } = this.props\n    return photos.map(({ id, webformatURL, tags }) => <li key={id} className=\"ImageGalleryItem\"> <img onClick={() => this.props.onCardClick(id)} src={webformatURL} alt={tags} className=\"ImageGalleryItem-image\" /></li>)\n  }\n}\n\nexport default ImageGalleryItem;\n","import axios from 'axios'\n\nconst apiKey = '16958496-eed71f695e795e31d6c8ecae3';\naxios.defaults.baseURL = 'https://pixabay.com'\n\nasync function fetchPhotos({ page = 1, keyWord = '', itemPerPage = 12 }) {\n  try {\n    const response = await axios.get(`/api/?q=${keyWord}&page=${page}&image_type=photo&orientation=horizontal&per_page=${itemPerPage}&key=${apiKey}`);\n    const { hits } = response.data\n    return hits;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport default { fetchPhotos };","import React, { Component } from 'react';\n\nimport Searchbar from './Searchbar';\nimport Loader from './Loader';\nimport Error from './Error';\nimport Button from './Button';\nimport ImageGallery from './ImageGallery';\nimport Modal from './Modal';\nimport ImageGalleryItem from './ImageGalleryItem';\n\nimport photoApi from '../services/photoApi';\n\nclass FetchPhotoApp extends Component {\n  state = {\n    page: 1,\n    photos: [],\n    keyWord: '',\n    isLoading: false,\n    error: null,\n    isShowModal: false,\n    modalContent: '',\n  };\n\n  componentDidUpdate(_, prevState) {\n    const { keyWord, page } = this.state\n    if (prevState.keyWord !== keyWord) {\n      this.fetch();\n    }\n\n    if (prevState.page !== page && prevState.page !== 1) {\n      this.scroll()\n    }\n  }\n\n  handleRenderModal = () => {\n    this.setState(({ isShowModal }) => ({\n      isShowModal: !isShowModal\n    }))\n  }\n\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({\n      keyWord: query,\n      page: 1,\n      photos: [],\n      error: null\n    })\n  }\n\n  fetch = async () => {\n    const { keyWord, page } = this.state;\n    const options = { keyWord, page };\n\n    this.setState({ isLoading: true });\n\n    try {\n      const res = await photoApi.fetchPhotos(options)\n      this.setState(prevState => ({\n        photos: [...prevState.photos, ...res],\n        page: prevState.page + 1,\n      }))\n      this.setState({ isLoading: false })\n    } catch (error) {\n      this.setState({ error: error })\n      this.setState({ isLoading: false })\n    }\n\n  }\n\n  handlerModalContent = id => {\n    const content = this.state.photos.find(photo => id === photo.id)\n    this.setState({ modalContent: content.largeImageURL })\n  }\n\n\n  render() {\n    const { photos, isLoading, error, isShowModal, modalContent } = this.state\n    const isShowError = error;\n    const isShowButtonLoadMore = photos.length > 0 && !isLoading\n    return (\n      <div className='App'>\n        {isShowModal && <Modal largeImage={modalContent} onClose={this.handleRenderModal} />}\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {isShowError && <Error />}\n        <ImageGallery onImageClick={this.handleRenderModal}><ImageGalleryItem photos={photos} onCardClick={this.handlerModalContent} /></ImageGallery>\n        {isLoading && <Loader />}\n        {isShowButtonLoadMore &&\n          <Button loadMore={this.fetch} />}\n      </div >\n    )\n  }\n}\n\nexport default FetchPhotoApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport FetchPhotoApp from './components/FetchPhotoApp';\n\nimport './css/body.css';\nimport './css/styles.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <FetchPhotoApp />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}