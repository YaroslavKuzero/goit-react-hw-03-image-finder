{"version":3,"sources":["components/Searchbar/Searchbar.js","components/Loader/Loader.js","components/Error/Error.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/photoApi.js","components/FetchPhotoApp.js","index.js"],"names":["Searchbar","state","query","handleChange","value","currentTarget","setState","handleSubmit","e","preventDefault","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","LoaderApp","color","height","width","Error","Button","loadMore","onClick","ImageGallery","handlerRenderModal","target","onImageClick","children","modalRoot","document","querySelector","Modal","handlerEscape","code","onClose","handlerBackDrop","window","addEventListener","removeEventListener","createPortal","src","largeImage","alt","ImageGalleryItem","photos","map","id","webformatURL","tags","key","onCardClick","page","keyWord","itemPerPage","axios","get","then","res","data","hits","FetchPhotoApp","isLoading","error","isShowModal","modalContent","handleRenderModal","scroll","scrollTo","top","documentElement","scrollHeight","behavior","onChangeQuery","fetch","options","photoApi","prevState","catch","finally","handlerModalContent","content","find","photo","largeImageURL","_","isShowError","Loader","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8fcd41ee.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Searchbar extends Component {\n\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  }\n\n  state = {\n    query: '',\n  }\n\n  handleChange = ({ currentTarget: { value } }) =>\n    this.setState({ query: value });\n\n  handleSubmit = e => {\n    e.preventDefault()\n    this.props.onSubmit(this.state.query)\n    this.setState({ query: '' })\n  }\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input className=\"SearchForm-input\" type=\"text\" value={this.state.query} onChange={this.handleChange} autoComplete=\"off\" autoFocus placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    )\n  }\n};\n\nexport default Searchbar;","import React, { Component } from 'react';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from 'react-loader-spinner';\nclass LoaderApp extends Component {\n  render() {\n    return <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} className='Loader' />\n  }\n}\n\nexport default LoaderApp;","import React from 'react';\n\nconst Error = () => {\n  return <h1>ERROR!!!</h1>\n}\n\nexport default Error;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function Button({ loadMore }) {\n  return <button className='Button' type='button' onClick={loadMore}>Load more</button>\n}\n\nButton.propTypes = {\n  handler: PropTypes.func,\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass ImageGallery extends Component {\n\n  static propTypes = {\n    onImageClick: PropTypes.func.isRequired,\n    children: PropTypes.node,\n  }\n\n  handlerRenderModal = e => {\n    if (e.target !== e.currentTarget) {\n      this.props.onImageClick();\n    }\n  }\n\n  render() {\n    return <ul className=\"ImageGallery\" onClick={this.handlerRenderModal}>{this.props.children}</ul>\n  }\n}\n\nexport default ImageGallery;","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    largeImage: PropTypes.string.isRequired,\n  }\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handlerEscape)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handlerEscape)\n  }\n\n  handlerEscape = ({ code }) => {\n    if (code === 'Escape') {\n      this.props.onClose();\n    }\n  }\n\n  handlerBackDrop = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  }\n\n  render() {\n    return createPortal(<div onClick={this.handlerBackDrop} className=\"Overlay\" >\n      <div className=\"Modal\" >\n        <img src={this.props.largeImage} alt='clickedImage' />\n      </div>\n    </div>, modalRoot)\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass ImageGalleryItem extends Component {\n\n  static propTypes = {\n    photos: PropTypes.array.isRequired,\n    onCardClick: PropTypes.func.isRequired,\n  }\n\n  render() {\n    const { photos } = this.props\n    return photos.map(({ id, webformatURL, tags }) => <li key={id} className=\"ImageGalleryItem\"> <img onClick={() => this.props.onCardClick(id)} src={webformatURL} alt={tags} className=\"ImageGalleryItem-image\" /></li>)\n  }\n}\n\nexport default ImageGalleryItem;\n","import axios from 'axios'\n\nconst apiKey = '16958496-eed71f695e795e31d6c8ecae3';\n\nconst fetchPhotos = ({ page = 1, keyWord = '', itemPerPage = 12 }) => {\n  return (axios.get(`https://pixabay.com/api/?q=${keyWord}&page=${page}&image_type=photo&orientation=horizontal&per_page=${itemPerPage}&key=${apiKey}`).then(res => res.data.hits))\n};\n\nexport default { fetchPhotos };","import React, { Component } from 'react';\n\nimport Searchbar from './Searchbar';\nimport Loader from './Loader';\nimport Error from './Error';\nimport Button from './Button';\nimport ImageGallery from './ImageGallery';\nimport Modal from './Modal';\nimport ImageGalleryItem from './ImageGalleryItem';\n\nimport photoApi from './photoApi';\n\nclass FetchPhotoApp extends Component {\n  state = {\n    page: 1,\n    photos: [],\n    keyWord: '',\n    isLoading: false,\n    error: null,\n    isShowModal: false,\n    modalContent: '',\n  };\n\n  componentDidUpdate(_, prevState) {\n    const { keyWord, page } = this.state\n    if (prevState.keyWord !== keyWord) {\n      this.fetch();\n    }\n\n    if (prevState.page !== page && prevState.page !== 1) {\n      this.scroll()\n    }\n  }\n\n  handleRenderModal = () => {\n    this.setState(({ isShowModal }) => ({\n      isShowModal: !isShowModal\n    }))\n  }\n\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({\n      keyWord: query,\n      page: 1,\n      photos: [],\n      error: null\n    })\n  }\n\n  fetch = () => {\n    const { keyWord, page } = this.state;\n    const options = { keyWord, page };\n\n    this.setState({ isLoading: true });\n\n    photoApi.fetchPhotos(options).then(res => {\n      this.setState(prevState => ({\n        photos: [...prevState.photos, ...res],\n        page: prevState.page + 1,\n      }));\n    }).catch(error => this.setState({ error: error })).finally(() => this.setState({ isLoading: false }))\n  }\n\n  handlerModalContent = id => {\n    const content = this.state.photos.find(photo => id === photo.id)\n    this.setState({ modalContent: content.largeImageURL })\n  }\n\n\n  render() {\n    const { photos, isLoading, error, isShowModal, modalContent } = this.state\n    const isShowError = error;\n    return (\n      <div className='App'>\n        {isShowModal && <Modal largeImage={modalContent} onClose={this.handleRenderModal} />}\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {isShowError && <Error />}\n        <ImageGallery onImageClick={this.handleRenderModal}><ImageGalleryItem photos={photos} onCardClick={this.handlerModalContent} /></ImageGallery>\n        {isLoading && <Loader />}\n        {photos.length > 0 && !isLoading &&\n          <Button loadMore={this.fetch} />}\n      </div >\n    )\n  }\n}\n\nexport default FetchPhotoApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/body.css';\nimport './css/styles.css';\nimport FetchPhotoApp from './components/FetchPhotoApp';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <FetchPhotoApp />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}